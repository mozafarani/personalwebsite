{"ast":null,"code":"import _slicedToArray from \"/Users/mohammedalzafarani/Desktop/personalwebsite/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport React from 'react';\nimport { useForceUpdate } from './use-force-update.js';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect.js';\n\n/** createSlots is a factory that can create a\n *  typesafe Slots + Slot pair to use in a component definition\n *  For example: ActionList.Item uses createSlots to get a Slots wrapper\n *  + Slot component that is used by LeadingVisual, Description\n */\nvar createSlots = function createSlots(slotNames) {\n  var SlotsContext = /*#__PURE__*/React.createContext({\n    registerSlot: function registerSlot() {\n      return null;\n    },\n    unregisterSlot: function unregisterSlot() {\n      return null;\n    },\n    context: {}\n  });\n\n  // maintain a static reference to avoid infinite render loop\n  var defaultContext = Object.freeze({});\n\n  /** Slots uses a Double render strategy inspired by [reach-ui/descendants](https://github.com/reach/reach-ui/tree/develop/packages/descendants)\n   *  Slot registers themself with the Slots parent.\n   *  When all the children have mounted = registered themselves in slot,\n   *  we re-render the parent component to render with slots\n   */\n  var Slots = function Slots(_ref) {\n    var _ref$context = _ref.context,\n      context = _ref$context === void 0 ? defaultContext : _ref$context,\n      children = _ref.children;\n    // initialise slots\n    var slotsDefinition = {};\n    slotNames.map(function (name) {\n      return slotsDefinition[name] = null;\n    });\n    var slotsRef = React.useRef(slotsDefinition);\n    var rerenderWithSlots = useForceUpdate();\n    var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isMounted = _React$useState2[0],\n      setIsMounted = _React$useState2[1];\n\n    // fires after all the effects in children\n    useIsomorphicLayoutEffect(function () {\n      rerenderWithSlots();\n      setIsMounted(true);\n    }, [rerenderWithSlots]);\n    var registerSlot = React.useCallback(function (name, contents) {\n      slotsRef.current[name] = contents;\n\n      // don't render until the component mounts = all slots are registered\n      if (isMounted) rerenderWithSlots();\n    }, [isMounted, rerenderWithSlots]);\n\n    // Slot can be removed from the tree as well,\n    // we need to unregister them from the slot\n    var unregisterSlot = React.useCallback(function (name) {\n      slotsRef.current[name] = null;\n      rerenderWithSlots();\n    }, [rerenderWithSlots]);\n\n    /**\n     * Slots uses a render prop API so abstract the\n     * implementation detail of using a context provider.\n     */\n    var slots = slotsRef.current;\n    return /*#__PURE__*/React.createElement(SlotsContext.Provider, {\n      value: {\n        registerSlot: registerSlot,\n        unregisterSlot: unregisterSlot,\n        context: context\n      }\n    }, children(slots));\n  };\n  var Slot = function Slot(_ref2) {\n    var name = _ref2.name,\n      children = _ref2.children;\n    var _React$useContext = React.useContext(SlotsContext),\n      registerSlot = _React$useContext.registerSlot,\n      unregisterSlot = _React$useContext.unregisterSlot,\n      context = _React$useContext.context;\n    useIsomorphicLayoutEffect(function () {\n      registerSlot(name, typeof children === 'function' ? children(context) : children);\n      return function () {\n        return unregisterSlot(name);\n      };\n    }, [name, children, registerSlot, unregisterSlot, context]);\n    return null;\n  };\n  return {\n    Slots: Slots,\n    Slot: Slot\n  };\n};\nexport { createSlots as default };","map":{"version":3,"names":["React","useForceUpdate","useIsomorphicLayoutEffect","createSlots","slotNames","SlotsContext","createContext","registerSlot","unregisterSlot","context","defaultContext","Object","freeze","Slots","children","slotsDefinition","map","name","slotsRef","useRef","rerenderWithSlots","useState","isMounted","setIsMounted","useCallback","contents","current","slots","createElement","Provider","value","Slot","useContext","default"],"sources":["/Users/mohammedalzafarani/Desktop/personalwebsite/node_modules/@primer/react/lib-esm/utils/create-slots.js"],"sourcesContent":["import React from 'react';\nimport { useForceUpdate } from './use-force-update.js';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect.js';\n\n/** createSlots is a factory that can create a\n *  typesafe Slots + Slot pair to use in a component definition\n *  For example: ActionList.Item uses createSlots to get a Slots wrapper\n *  + Slot component that is used by LeadingVisual, Description\n */\nconst createSlots = slotNames => {\n  const SlotsContext = /*#__PURE__*/React.createContext({\n    registerSlot: () => null,\n    unregisterSlot: () => null,\n    context: {}\n  });\n\n  // maintain a static reference to avoid infinite render loop\n  const defaultContext = Object.freeze({});\n\n  /** Slots uses a Double render strategy inspired by [reach-ui/descendants](https://github.com/reach/reach-ui/tree/develop/packages/descendants)\n   *  Slot registers themself with the Slots parent.\n   *  When all the children have mounted = registered themselves in slot,\n   *  we re-render the parent component to render with slots\n   */\n  const Slots = ({\n    context = defaultContext,\n    children\n  }) => {\n    // initialise slots\n    const slotsDefinition = {};\n    slotNames.map(name => slotsDefinition[name] = null);\n    const slotsRef = React.useRef(slotsDefinition);\n    const rerenderWithSlots = useForceUpdate();\n    const [isMounted, setIsMounted] = React.useState(false);\n\n    // fires after all the effects in children\n    useIsomorphicLayoutEffect(() => {\n      rerenderWithSlots();\n      setIsMounted(true);\n    }, [rerenderWithSlots]);\n    const registerSlot = React.useCallback((name, contents) => {\n      slotsRef.current[name] = contents;\n\n      // don't render until the component mounts = all slots are registered\n      if (isMounted) rerenderWithSlots();\n    }, [isMounted, rerenderWithSlots]);\n\n    // Slot can be removed from the tree as well,\n    // we need to unregister them from the slot\n    const unregisterSlot = React.useCallback(name => {\n      slotsRef.current[name] = null;\n      rerenderWithSlots();\n    }, [rerenderWithSlots]);\n\n    /**\n     * Slots uses a render prop API so abstract the\n     * implementation detail of using a context provider.\n     */\n    const slots = slotsRef.current;\n    return /*#__PURE__*/React.createElement(SlotsContext.Provider, {\n      value: {\n        registerSlot,\n        unregisterSlot,\n        context\n      }\n    }, children(slots));\n  };\n  const Slot = ({\n    name,\n    children\n  }) => {\n    const {\n      registerSlot,\n      unregisterSlot,\n      context\n    } = React.useContext(SlotsContext);\n    useIsomorphicLayoutEffect(() => {\n      registerSlot(name, typeof children === 'function' ? children(context) : children);\n      return () => unregisterSlot(name);\n    }, [name, children, registerSlot, unregisterSlot, context]);\n    return null;\n  };\n  return {\n    Slots,\n    Slot\n  };\n};\n\nexport { createSlots as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}