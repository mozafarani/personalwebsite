{"ast":null,"code":"import _toConsumableArray from \"/Users/mohammedalzafarani/Desktop/personalwebsite/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport React from 'react';\nimport { iterateFocusableElements } from '@primer/behaviors/utils';\nimport { useMenuInitialFocus } from './useMenuInitialFocus.js';\nimport { useMnemonics } from './useMnemonics.js';\n\n/**\n * Keyboard navigation is a mix of 4 hooks\n * 1. useMenuInitialFocus\n * 2. useTypeaheadFocus\n * 3. useCloseMenuOnTab\n * 4. useMoveFocusToMenuItem\n */\nvar useMenuKeyboardNavigation = function useMenuKeyboardNavigation(open, onClose, containerRef, anchorRef) {\n  useMenuInitialFocus(open, containerRef, anchorRef);\n  useMnemonics(open, containerRef);\n  useCloseMenuOnTab(open, onClose, containerRef, anchorRef);\n  useMoveFocusToMenuItem(open, containerRef, anchorRef);\n};\n\n/**\n * When Tab or Shift+Tab is pressed, the menu should close\n * and the focus should naturally move to the next item\n */\nvar useCloseMenuOnTab = function useCloseMenuOnTab(open, onClose, containerRef, anchorRef) {\n  React.useEffect(function () {\n    var container = containerRef.current;\n    var anchor = anchorRef.current;\n    var handler = function handler(event) {\n      if (open && event.key === 'Tab') onClose === null || onClose === void 0 ? void 0 : onClose('tab');\n    };\n    container === null || container === void 0 ? void 0 : container.addEventListener('keydown', handler);\n    anchor === null || anchor === void 0 ? void 0 : anchor.addEventListener('keydown', handler);\n    return function () {\n      container === null || container === void 0 ? void 0 : container.removeEventListener('keydown', handler);\n      anchor === null || anchor === void 0 ? void 0 : anchor.removeEventListener('keydown', handler);\n    };\n  }, [open, onClose, containerRef, anchorRef]);\n};\n\n/**\n * When Arrow Keys are pressed and the focus is on the anchor,\n * focus should move to a menu item\n */\nvar useMoveFocusToMenuItem = function useMoveFocusToMenuItem(open, containerRef, anchorRef) {\n  React.useEffect(function () {\n    var container = containerRef.current;\n    var anchor = anchorRef.current;\n    var handler = function handler(event) {\n      if (!open || !container) return;\n      var iterable = iterateFocusableElements(container);\n      if (event.key === 'ArrowDown') {\n        // TODO: does commenting this out break anything?\n        // event.preventDefault() // prevent scroll event\n        var firstElement = iterable.next().value;\n        /** We push imperative focus to the next tick to prevent React's batching */\n        setTimeout(function () {\n          return firstElement === null || firstElement === void 0 ? void 0 : firstElement.focus();\n        });\n      } else if (event.key === 'ArrowUp') {\n        // TODO: does commenting this out break anything?\n        // event.preventDefault() // prevent scroll event\n        var elements = _toConsumableArray(iterable);\n        var lastElement = elements[elements.length - 1];\n        setTimeout(function () {\n          return lastElement.focus();\n        });\n      }\n    };\n    anchor === null || anchor === void 0 ? void 0 : anchor.addEventListener('keydown', handler);\n    return function () {\n      return anchor === null || anchor === void 0 ? void 0 : anchor.addEventListener('keydown', handler);\n    };\n  }, [open, containerRef, anchorRef]);\n};\nexport { useMenuKeyboardNavigation };","map":{"version":3,"names":["React","iterateFocusableElements","useMenuInitialFocus","useMnemonics","useMenuKeyboardNavigation","open","onClose","containerRef","anchorRef","useCloseMenuOnTab","useMoveFocusToMenuItem","useEffect","container","current","anchor","handler","event","key","addEventListener","removeEventListener","iterable","firstElement","next","value","setTimeout","focus","elements","lastElement","length"],"sources":["/Users/mohammedalzafarani/Desktop/personalwebsite/node_modules/@primer/react/lib-esm/hooks/useMenuKeyboardNavigation.js"],"sourcesContent":["import React from 'react';\nimport { iterateFocusableElements } from '@primer/behaviors/utils';\nimport { useMenuInitialFocus } from './useMenuInitialFocus.js';\nimport { useMnemonics } from './useMnemonics.js';\n\n/**\n * Keyboard navigation is a mix of 4 hooks\n * 1. useMenuInitialFocus\n * 2. useTypeaheadFocus\n * 3. useCloseMenuOnTab\n * 4. useMoveFocusToMenuItem\n */\nconst useMenuKeyboardNavigation = (open, onClose, containerRef, anchorRef) => {\n  useMenuInitialFocus(open, containerRef, anchorRef);\n  useMnemonics(open, containerRef);\n  useCloseMenuOnTab(open, onClose, containerRef, anchorRef);\n  useMoveFocusToMenuItem(open, containerRef, anchorRef);\n};\n\n/**\n * When Tab or Shift+Tab is pressed, the menu should close\n * and the focus should naturally move to the next item\n */\nconst useCloseMenuOnTab = (open, onClose, containerRef, anchorRef) => {\n  React.useEffect(() => {\n    const container = containerRef.current;\n    const anchor = anchorRef.current;\n    const handler = event => {\n      if (open && event.key === 'Tab') onClose === null || onClose === void 0 ? void 0 : onClose('tab');\n    };\n    container === null || container === void 0 ? void 0 : container.addEventListener('keydown', handler);\n    anchor === null || anchor === void 0 ? void 0 : anchor.addEventListener('keydown', handler);\n    return () => {\n      container === null || container === void 0 ? void 0 : container.removeEventListener('keydown', handler);\n      anchor === null || anchor === void 0 ? void 0 : anchor.removeEventListener('keydown', handler);\n    };\n  }, [open, onClose, containerRef, anchorRef]);\n};\n\n/**\n * When Arrow Keys are pressed and the focus is on the anchor,\n * focus should move to a menu item\n */\nconst useMoveFocusToMenuItem = (open, containerRef, anchorRef) => {\n  React.useEffect(() => {\n    const container = containerRef.current;\n    const anchor = anchorRef.current;\n    const handler = event => {\n      if (!open || !container) return;\n      const iterable = iterateFocusableElements(container);\n      if (event.key === 'ArrowDown') {\n        // TODO: does commenting this out break anything?\n        // event.preventDefault() // prevent scroll event\n        const firstElement = iterable.next().value;\n        /** We push imperative focus to the next tick to prevent React's batching */\n        setTimeout(() => firstElement === null || firstElement === void 0 ? void 0 : firstElement.focus());\n      } else if (event.key === 'ArrowUp') {\n        // TODO: does commenting this out break anything?\n        // event.preventDefault() // prevent scroll event\n        const elements = [...iterable];\n        const lastElement = elements[elements.length - 1];\n        setTimeout(() => lastElement.focus());\n      }\n    };\n    anchor === null || anchor === void 0 ? void 0 : anchor.addEventListener('keydown', handler);\n    return () => anchor === null || anchor === void 0 ? void 0 : anchor.addEventListener('keydown', handler);\n  }, [open, containerRef, anchorRef]);\n};\n\nexport { useMenuKeyboardNavigation };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}