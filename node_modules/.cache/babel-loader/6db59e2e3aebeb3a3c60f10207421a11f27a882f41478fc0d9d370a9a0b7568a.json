{"ast":null,"code":"import { useCallback, useEffect } from 'react';\nconst noop = () => null;\nfunction visible(el) {\n  return !el.hidden && (!el.type || el.type !== 'hidden') && (el.offsetWidth > 0 || el.offsetHeight > 0);\n}\nfunction focusable(el) {\n  const inputEl = el;\n  return inputEl.tabIndex >= 0 && !inputEl.disabled && visible(inputEl);\n}\nfunction useDialog(_ref) {\n  let {\n    modalRef,\n    overlayRef,\n    isOpen,\n    onDismiss = noop,\n    initialFocusRef,\n    closeButtonRef\n  } = _ref;\n  const onClickOutside = useCallback(e => {\n    if (modalRef.current && overlayRef.current && !modalRef.current.contains(e.target) && overlayRef.current.contains(e.target)) {\n      onDismiss();\n    }\n  }, [onDismiss, modalRef, overlayRef]);\n  useEffect(() => {\n    if (isOpen) {\n      document.addEventListener('click', onClickOutside);\n      return () => {\n        document.removeEventListener('click', onClickOutside);\n      };\n    }\n  }, [isOpen, onClickOutside]);\n  useEffect(() => {\n    if (isOpen) {\n      if (initialFocusRef && initialFocusRef.current) {\n        initialFocusRef.current.focus();\n      } else if (closeButtonRef && closeButtonRef.current) {\n        closeButtonRef.current.focus();\n      }\n    }\n  }, [isOpen, initialFocusRef, closeButtonRef]);\n  const getFocusableItem = useCallback((e, movement) => {\n    if (modalRef.current) {\n      const items = Array.from(modalRef.current.querySelectorAll('*')).filter(focusable);\n      if (items.length === 0) return;\n      e.preventDefault();\n      const focusedElement = document.activeElement;\n      if (!focusedElement) {\n        return;\n      }\n      const index = items.indexOf(focusedElement);\n      const offsetIndex = index + movement;\n      const fallbackIndex = movement === 1 ? 0 : items.length - 1;\n      const focusableItem = items[offsetIndex] || items[fallbackIndex];\n      return focusableItem;\n    }\n  }, [modalRef]);\n  const handleTab = useCallback(e => {\n    const movement = e.shiftKey ? -1 : 1;\n    const focusableItem = getFocusableItem(e, movement);\n    if (!focusableItem) {\n      return;\n    }\n    focusableItem.focus();\n  }, [getFocusableItem]);\n  const onKeyDown = useCallback(event => {\n    switch (event.key) {\n      case 'Tab':\n        handleTab(event);\n        break;\n      case 'Escape':\n        onDismiss();\n        event.stopPropagation();\n        break;\n    }\n  }, [handleTab, onDismiss]);\n  const getDialogProps = () => {\n    return {\n      onKeyDown\n    };\n  };\n  return {\n    getDialogProps\n  };\n}\nexport { useDialog as default };","map":{"version":3,"names":["useCallback","useEffect","noop","visible","el","hidden","type","offsetWidth","offsetHeight","focusable","inputEl","tabIndex","disabled","useDialog","modalRef","overlayRef","isOpen","onDismiss","initialFocusRef","closeButtonRef","onClickOutside","e","current","contains","target","document","addEventListener","removeEventListener","focus","getFocusableItem","movement","items","Array","from","querySelectorAll","filter","length","preventDefault","focusedElement","activeElement","index","indexOf","offsetIndex","fallbackIndex","focusableItem","handleTab","shiftKey","onKeyDown","event","key","stopPropagation","getDialogProps","default"],"sources":["/Users/mohammedalzafarani/Desktop/personalwebsite/node_modules/@primer/react/lib-esm/hooks/useDialog.js"],"sourcesContent":["import { useCallback, useEffect } from 'react';\n\nconst noop = () => null;\nfunction visible(el) {\n  return !el.hidden && (!el.type || el.type !== 'hidden') && (el.offsetWidth > 0 || el.offsetHeight > 0);\n}\nfunction focusable(el) {\n  const inputEl = el;\n  return inputEl.tabIndex >= 0 && !inputEl.disabled && visible(inputEl);\n}\nfunction useDialog({\n  modalRef,\n  overlayRef,\n  isOpen,\n  onDismiss = noop,\n  initialFocusRef,\n  closeButtonRef\n}) {\n  const onClickOutside = useCallback(e => {\n    if (modalRef.current && overlayRef.current && !modalRef.current.contains(e.target) && overlayRef.current.contains(e.target)) {\n      onDismiss();\n    }\n  }, [onDismiss, modalRef, overlayRef]);\n  useEffect(() => {\n    if (isOpen) {\n      document.addEventListener('click', onClickOutside);\n      return () => {\n        document.removeEventListener('click', onClickOutside);\n      };\n    }\n  }, [isOpen, onClickOutside]);\n  useEffect(() => {\n    if (isOpen) {\n      if (initialFocusRef && initialFocusRef.current) {\n        initialFocusRef.current.focus();\n      } else if (closeButtonRef && closeButtonRef.current) {\n        closeButtonRef.current.focus();\n      }\n    }\n  }, [isOpen, initialFocusRef, closeButtonRef]);\n  const getFocusableItem = useCallback((e, movement) => {\n    if (modalRef.current) {\n      const items = Array.from(modalRef.current.querySelectorAll('*')).filter(focusable);\n      if (items.length === 0) return;\n      e.preventDefault();\n      const focusedElement = document.activeElement;\n      if (!focusedElement) {\n        return;\n      }\n      const index = items.indexOf(focusedElement);\n      const offsetIndex = index + movement;\n      const fallbackIndex = movement === 1 ? 0 : items.length - 1;\n      const focusableItem = items[offsetIndex] || items[fallbackIndex];\n      return focusableItem;\n    }\n  }, [modalRef]);\n  const handleTab = useCallback(e => {\n    const movement = e.shiftKey ? -1 : 1;\n    const focusableItem = getFocusableItem(e, movement);\n    if (!focusableItem) {\n      return;\n    }\n    focusableItem.focus();\n  }, [getFocusableItem]);\n  const onKeyDown = useCallback(event => {\n    switch (event.key) {\n      case 'Tab':\n        handleTab(event);\n        break;\n      case 'Escape':\n        onDismiss();\n        event.stopPropagation();\n        break;\n    }\n  }, [handleTab, onDismiss]);\n  const getDialogProps = () => {\n    return {\n      onKeyDown\n    };\n  };\n  return {\n    getDialogProps\n  };\n}\n\nexport { useDialog as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}