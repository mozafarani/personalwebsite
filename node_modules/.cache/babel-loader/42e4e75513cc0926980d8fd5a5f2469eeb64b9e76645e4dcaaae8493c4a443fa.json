{"ast":null,"code":"import _objectSpread from \"/Users/mohammedalzafarani/Desktop/personalwebsite/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/Users/mohammedalzafarani/Desktop/personalwebsite/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _classCallCheck from \"/Users/mohammedalzafarani/Desktop/personalwebsite/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/mohammedalzafarani/Desktop/personalwebsite/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/mohammedalzafarani/Desktop/personalwebsite/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/mohammedalzafarani/Desktop/personalwebsite/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\n/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nvar t = new Set([\"children\", \"localName\", \"ref\", \"style\", \"className\"]),\n  n = new WeakMap(),\n  e = function e(t, _e, i, s, o) {\n    var l = null == o ? void 0 : o[_e];\n    void 0 !== l ? i !== s && function (t, e, i) {\n      var s = n.get(t);\n      void 0 === s && n.set(t, s = new Map());\n      var o = s.get(e);\n      void 0 !== i ? void 0 === o ? (s.set(e, o = {\n        handleEvent: i\n      }), t.addEventListener(e, o)) : o.handleEvent = i : void 0 !== o && (s.delete(e), t.removeEventListener(e, o));\n    }(t, l, i) : t[_e] = i;\n  },\n  i = function i(n, _i2, s, o, l) {\n    var d = n.Component,\n      c = n.createElement,\n      h = new Set(Object.keys(null != o ? o : {}));\n    var r = /*#__PURE__*/function (_d) {\n      _inherits(r, _d);\n      var _super = _createSuper(r);\n      function r() {\n        var _this;\n        _classCallCheck(this, r);\n        _this = _super.apply(this, arguments), _this.o = null;\n        return _this;\n      }\n      _createClass(r, [{\n        key: \"t\",\n        value: function t(_t) {\n          if (null !== this.o) for (var _n in this.i) e(this.o, _n, this.props[_n], _t ? _t[_n] : void 0, o);\n        }\n      }, {\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          this.t();\n        }\n      }, {\n        key: \"componentDidUpdate\",\n        value: function componentDidUpdate(t) {\n          this.t(t);\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var _this2 = this;\n          var n;\n          var e = null !== (n = this.props._$Gl) && void 0 !== n ? n : null;\n          void 0 !== this.h && this.u === e || (this.h = function (t) {\n            null === _this2.o && (_this2.o = t), null !== e && function (t, n) {\n              \"function\" == typeof t ? t(n) : t.current = n;\n            }(e, t), _this2.u = e;\n          });\n          var o = {\n            ref: this.h\n          };\n          this.i = {};\n          for (var _i = 0, _Object$entries = Object.entries(this.props); _i < _Object$entries.length; _i++) {\n            var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n              _n2 = _Object$entries$_i[0],\n              _e2 = _Object$entries$_i[1];\n            \"__forwardedRef\" !== _n2 && (h.has(_n2) || !t.has(_n2) && !(_n2 in HTMLElement.prototype) && _n2 in s.prototype ? this.i[_n2] = _e2 : o[\"className\" === _n2 ? \"class\" : _n2] = _e2);\n          }\n          return c(_i2, o);\n        }\n      }]);\n      return r;\n    }(d);\n    r.displayName = null != l ? l : s.name;\n    var u = n.forwardRef(function (t, n) {\n      return c(r, _objectSpread(_objectSpread({}, t), {}, {\n        _$Gl: n\n      }), null == t ? void 0 : t.children);\n    });\n    return u.displayName = r.displayName, u;\n  };\nexport { i as createComponent };","map":{"version":3,"mappings":";;;;;;;;;;;AA2DA,IAAMA,IAA0B,IAAIC,IAAI,CACtC,YACA,aACA,OACA,SACA;EAGIC,IAGF,IAAIC;EAsCFC,IAAc,WAClBC,GACAC,IACAC,GACAC,GACAC;IAEA,IAAMC,IAAQD,uBAASH;IAAAA,KACTK,MAAVD,IAEEH,MAAUC,KAxCe,UAC/BH,GACAK,GACAE;MAEA,IAAIH,IAASP,EAAeW,IAAIR;MAAAA,KACjBM,MAAXF,KACFP,EAAeY,IAAIT,GAAOI,IAAS,IAAIM;MAEzC,IAAIC,IAAUP,EAAOI,IAAIH;MAAAA,KACRC,MAAbC,SAEcD,MAAZK,KACFP,EAAOK,IAAIJ,GAAQM,IAAU;QAACC,aAAaL;MAAAA,IAC3CP,EAAKa,iBAAiBR,GAAOM,MAG7BA,EAAQC,cAAcL,SAGHD,MAAZK,MACTP,EAAOU,OAAOT,IACdL,EAAKe,oBAAoBV,GAAOM,GACjC;IAAA,EAkB4BX,GAAMK,GAAOH,KAIxCF,EAAKC,MAAmBC,CACzB;EAAA;EAkCUc,IAAkB,WAI7BC,GACAC,KACAC,GACAf,GACAgB;IAEA,IAAMC,IAAYJ,EAAMI;MAClBC,IAAgBL,EAAMK;MACtBC,IAAa,IAAI3B,IAAI4B,OAAOC,KAAKrB,gBAAU;IAIjD,IAAMsB;MAAAA;MAAAA;MAANC;QAAAA;QAAAA;QAAAA,uCACUC,MAAQC,IAAa,IA4F9B;QAAA;MAAA;MArFSC;QAAAA;QAAAA,kBAAeC;UACrB,IAAsB,SAAlBH,KAAKC,GAIT,KAAK,IAAMG,MAAQJ,KAAKK,GACtBlC,EACE6B,KAAKC,GACLG,IACAJ,KAAKM,MAAMF,KACXD,KAAWA,GAASC,WAAQ1B,GAC5BF,EAML;QAAA;MAMQ+B;QAAAA;QAAAA;UACPP,KAAKE,GACN;QAAA;MAMQM;QAAAA;QAAAA,mCAAmBjC;UAC1ByB,KAAKE,EAAe3B,EACrB;QAAA;MAUQkC;QAAAA;QAAAA;UAAAA;UAAAA;UAIP,IAAMC,IAAuC,UAA7BC,SAAKL,MAAMM,cAAkB;UAAA,KAC3BlC,MAAdsB,KAAKa,KAAsBb,KAAKc,MAAaJ,MAC/CV,KAAKa,IAAQvC;YACW,SAAlB0B,OAAKC,MACPD,OAAKC,IAAW3B,IAEF,SAAZoC,KA1GC,UAACK,GAAyBzC;cACpB,qBAARyC,IACRA,EAAoCzC,KAEpCyC,EAAkCC,UAAU1C,CAC9C;YAAA,EAsGgBoC,GAASpC,IAElB0B,OAAKc,IAAWJ,CAAO;UAAA;UAO3B,IAAMJ,IAAa;YAACS,KAAKf,KAAKa;UAAAA;UAG9Bb,KAAKK,IAAgB;UACrB,mCAAqBT,OAAOqB,QAAQjB,KAAKM;YAApC;cAAOY;cAAGC;YACH,qBAAND,QAGFvB,EAAWyB,IAAIF,SACbnD,EAAwBqD,IAAIF,UAC1BA,OAAKG,YAAYC,cACnBJ,OAAK3B,EAAa+B,YAEpBtB,KAAKK,EAAca,OAAKC,MAIxBb,EAAY,gBAANY,MAAoB,UAAUA,OAAKC;UAG7C;UAAA,OAAOzB,EAA0CJ,KAASgB,EAC3D;QAAA;MAAA;MAAA;IAAA,EA5F0Bb;IAMpBK,EAAWN,cAAGA,gBAAeD,EAAalB;IAyFnD,IAAMkD,IAA8ClC,EAAMmC,WAGxD,UAAClB,GAAOS;MAAAA,OACRrB,EACEI,mCACIQ;QAAOM,MAAgBG;MAAAA,IAC3BT,uBAAOmB;IAAAA;IAOX,OAFAF,EAAmB/B,cAAcM,EAAeN,aAEzC+B,CAAkB;EAAA;AAAA","names":["reservedReactProperties","Set","listenedEvents","WeakMap","setProperty","node","name","value","old","events","event","undefined","listener","get","set","Map","handler","handleEvent","addEventListener","delete","removeEventListener","createComponent","React","tagName","elementClass","displayName","Component","createElement","eventProps","Object","keys","ReactComponent","constructor","this","_element","_updateElement","oldProps","prop","_elementProps","props","componentDidMount","componentDidUpdate","render","userRef","_a","__forwardedRef","_ref","_userRef","ref","current","entries","k","v","has","HTMLElement","prototype","ForwardedComponent","forwardRef","children"],"sources":["/Users/mohammedalzafarani/Desktop/personalwebsite/node_modules/@lit-labs/react/src/create-component.ts"],"sourcesContent":["/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n// Match a prop name to a typed event callback by\n// adding an Event type as an expected property on a string.\nexport type EventName<T extends Event = Event> = string & {\n  __event_type: T;\n};\n\n// A key value map matching React prop names to event names\ntype EventNames = Record<string, EventName | string>;\n\n// A map of expected event listener types based on EventNames\ntype EventListeners<R extends EventNames> = {\n  [K in keyof R]: R[K] extends EventName\n    ? (e: R[K]['__event_type']) => void\n    : (e: Event) => void;\n};\n\ntype ReactProps<I, E> = Omit<React.HTMLAttributes<I>, keyof E>;\ntype ElementWithoutPropsOrEventListeners<I, E> = Omit<\n  I,\n  keyof E | keyof ReactProps<I, E>\n>;\n\n// Props the user is allowed to use, includes standard attributes, children,\n// ref, as well as special event and element properties.\ntype WebComponentProps<\n  I extends HTMLElement,\n  E extends EventNames = {}\n> = Partial<\n  ReactProps<I, E> &\n    ElementWithoutPropsOrEventListeners<I, E> &\n    EventListeners<E>\n>;\n\n// Props used by this component wrapper. This is the WebComponentProps and the\n// special `__forwardedRef` property. Note, this ref is special because\n// it's both needed in this component to get access to the rendered element\n// and must fulfill any ref passed by the user.\ntype ReactComponentProps<\n  I extends HTMLElement,\n  E extends EventNames = {}\n> = WebComponentProps<I, E> & {\n  __forwardedRef?: React.Ref<I>;\n};\n\nexport type ReactWebComponent<\n  I extends HTMLElement,\n  E extends EventNames = {}\n> = React.ForwardRefExoticComponent<\n  React.PropsWithoutRef<WebComponentProps<I, E>> & React.RefAttributes<I>\n>;\n\ntype Constructor<T> = {new (): T};\n\nconst reservedReactProperties = new Set([\n  'children',\n  'localName',\n  'ref',\n  'style',\n  'className',\n]);\n\nconst listenedEvents: WeakMap<\n  Element,\n  Map<string, EventListenerObject>\n> = new WeakMap();\n\n/**\n * Adds an event listener for the specified event to the given node. In the\n * React setup, there should only ever be one event listener. Thus, for\n * efficiency only one listener is added and the handler for that listener is\n * updated to point to the given listener function.\n */\nconst addOrUpdateEventListener = (\n  node: Element,\n  event: string,\n  listener: (event?: Event) => void\n) => {\n  let events = listenedEvents.get(node);\n  if (events === undefined) {\n    listenedEvents.set(node, (events = new Map()));\n  }\n  let handler = events.get(event);\n  if (listener !== undefined) {\n    // If necessary, add listener and track handler\n    if (handler === undefined) {\n      events.set(event, (handler = {handleEvent: listener}));\n      node.addEventListener(event, handler);\n      // Otherwise just update the listener with new value\n    } else {\n      handler.handleEvent = listener;\n    }\n    // Remove listener if one exists and value is undefined\n  } else if (handler !== undefined) {\n    events.delete(event);\n    node.removeEventListener(event, handler);\n  }\n};\n\n/**\n * Sets properties and events on custom elements. These properties and events\n * have been pre-filtered so we know they should apply to the custom element.\n */\nconst setProperty = <E extends Element>(\n  node: E,\n  name: string,\n  value: unknown,\n  old: unknown,\n  events?: EventNames\n) => {\n  const event = events?.[name];\n  if (event !== undefined) {\n    // Dirty check event value.\n    if (value !== old) {\n      addOrUpdateEventListener(node, event, value as (e?: Event) => void);\n    }\n  } else {\n    // But don't dirty check properties; elements are assumed to do this.\n    node[name as keyof E] = value as E[keyof E];\n  }\n};\n\n// Set a React ref. Note, there are 2 kinds of refs and there's no built in\n// React API to set a ref.\nconst setRef = (ref: React.Ref<unknown>, value: Element | null) => {\n  if (typeof ref === 'function') {\n    (ref as (e: Element | null) => void)(value);\n  } else {\n    (ref as {current: Element | null}).current = value;\n  }\n};\n\n/**\n * Creates a React component for a custom element. Properties are distinguished\n * from attributes automatically, and events can be configured so they are\n * added to the custom element as event listeners.\n *\n * @param React The React module, typically imported from the `react` npm\n * package.\n * @param tagName The custom element tag name registered via\n * `customElements.define`.\n * @param elementClass The custom element class registered via\n * `customElements.define`.\n * @param events An object listing events to which the component can listen. The\n * object keys are the event property names passed in via React props and the\n * object values are the names of the corresponding events generated by the\n * custom element. For example, given `{onactivate: 'activate'}` an event\n * function may be passed via the component's `onactivate` prop and will be\n * called when the custom element fires its `activate` event.\n * @param displayName A React component display name, used in debugging\n * messages. Default value is inferred from the name of custom element class\n * registered via `customElements.define`.\n */\nexport const createComponent = <\n  I extends HTMLElement,\n  E extends EventNames = {}\n>(\n  React: typeof window.React,\n  tagName: string,\n  elementClass: Constructor<I>,\n  events?: E,\n  displayName?: string\n): ReactWebComponent<I, E> => {\n  const Component = React.Component;\n  const createElement = React.createElement;\n  const eventProps = new Set(Object.keys(events ?? {}));\n\n  type Props = ReactComponentProps<I, E>;\n\n  class ReactComponent extends Component<Props> {\n    private _element: I | null = null;\n    private _elementProps!: {[index: string]: unknown};\n    private _userRef?: React.Ref<I>;\n    private _ref?: React.RefCallback<I>;\n\n    static displayName = displayName ?? elementClass.name;\n\n    private _updateElement(oldProps?: Props) {\n      if (this._element === null) {\n        return;\n      }\n      // Set element properties to the values in `this.props`\n      for (const prop in this._elementProps) {\n        setProperty(\n          this._element,\n          prop,\n          this.props[prop],\n          oldProps ? oldProps[prop] : undefined,\n          events\n        );\n      }\n      // Note, the spirit of React might be to \"unset\" any old values that\n      // are no longer included; however, there's no reasonable value to set\n      // them to so we just leave the previous state as is.\n    }\n\n    /**\n     * Updates element properties correctly setting properties\n     * on mount.\n     */\n    override componentDidMount() {\n      this._updateElement();\n    }\n\n    /**\n     * Updates element properties correctly setting properties\n     * on every update. Note, this does not include mount.\n     */\n    override componentDidUpdate(old: Props) {\n      this._updateElement(old);\n    }\n\n    /**\n     * Renders the custom element with a `ref` prop which allows this\n     * component to reference the custom element.\n     *\n     * Standard attributes are passed to React and element properties and events\n     * are updated in componentDidMount/componentDidUpdate.\n     *\n     */\n    override render() {\n      // Since refs only get fulfilled once, pass a new one if the user's\n      // ref changed. This allows refs to be fulfilled as expected, going from\n      // having a value to null.\n      const userRef = this.props.__forwardedRef ?? null;\n      if (this._ref === undefined || this._userRef !== userRef) {\n        this._ref = (value: I | null) => {\n          if (this._element === null) {\n            this._element = value;\n          }\n          if (userRef !== null) {\n            setRef(userRef, value);\n          }\n          this._userRef = userRef;\n        };\n      }\n      // Filters class properties out and passes the remaining\n      // attributes to React. This allows attributes to use framework rules\n      // for setting attributes and render correctly under SSR.\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const props: any = {ref: this._ref};\n      // Note, save element props while iterating to avoid the need to\n      // iterate again when setting properties.\n      this._elementProps = {};\n      for (const [k, v] of Object.entries(this.props)) {\n        if (k === '__forwardedRef') continue;\n\n        if (\n          eventProps.has(k) ||\n          (!reservedReactProperties.has(k) &&\n            !(k in HTMLElement.prototype) &&\n            k in elementClass.prototype)\n        ) {\n          this._elementProps[k] = v;\n        } else {\n          // React does *not* handle `className` for custom elements so\n          // coerce it to `class` so it's handled correctly.\n          props[k === 'className' ? 'class' : k] = v;\n        }\n      }\n      return createElement<React.HTMLAttributes<I>, I>(tagName, props);\n    }\n  }\n\n  const ForwardedComponent: ReactWebComponent<I, E> = React.forwardRef<\n    I,\n    WebComponentProps<I, E>\n  >((props, ref) =>\n    createElement<Props, ReactComponent, typeof ReactComponent>(\n      ReactComponent,\n      {...props, __forwardedRef: ref},\n      props?.children\n    )\n  );\n\n  // To ease debugging in the React Developer Tools\n  ForwardedComponent.displayName = ReactComponent.displayName;\n\n  return ForwardedComponent;\n};\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}