{"ast":null,"code":"import React, { useCallback, useRef, useEffect } from 'react';\nimport { useSSRSafeId } from '@react-aria/ssr';\nimport TextInput from '../TextInput.js';\nimport Box from '../Box.js';\nimport { ActionList } from '../deprecated/ActionList/index.js';\nimport Spinner from '../Spinner.js';\nimport { useFocusZone } from '../hooks/useFocusZone.js';\nimport { useProvidedStateOrCreate } from '../hooks/useProvidedStateOrCreate.js';\nimport styled from 'styled-components';\nimport { get } from '../constants.js';\nimport { useProvidedRefOrCreate } from '../hooks/useProvidedRefOrCreate.js';\nimport useScrollFlash from '../hooks/useScrollFlash.js';\nimport { scrollIntoView } from '@primer/behaviors';\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nconst menuScrollMargins = {\n  startMargin: 0,\n  endMargin: 8\n};\nconst StyledHeader = styled.div.withConfig({\n  displayName: \"FilteredActionList__StyledHeader\",\n  componentId: \"sc-1oqgb0s-0\"\n})([\"box-shadow:0 1px 0 \", \";z-index:1;\"], get('colors.border.default'));\nfunction FilteredActionList(_ref) {\n  let {\n    loading = false,\n    placeholderText,\n    filterValue: externalFilterValue,\n    onFilterChange,\n    items,\n    textInputProps,\n    inputRef: providedInputRef,\n    sx,\n    ...listProps\n  } = _ref;\n  const [filterValue, setInternalFilterValue] = useProvidedStateOrCreate(externalFilterValue, undefined, '');\n  const onInputChange = useCallback(e => {\n    const value = e.target.value;\n    onFilterChange(value, e);\n    setInternalFilterValue(value);\n  }, [onFilterChange, setInternalFilterValue]);\n  const scrollContainerRef = useRef(null);\n  const listContainerRef = useRef(null);\n  const inputRef = useProvidedRefOrCreate(providedInputRef);\n  const activeDescendantRef = useRef();\n  const listId = useSSRSafeId();\n  const onInputKeyPress = useCallback(event => {\n    if (event.key === 'Enter' && activeDescendantRef.current) {\n      event.preventDefault();\n      event.nativeEvent.stopImmediatePropagation();\n\n      // Forward Enter key press to active descendant so that item gets activated\n      const activeDescendantEvent = new KeyboardEvent(event.type, event.nativeEvent);\n      activeDescendantRef.current.dispatchEvent(activeDescendantEvent);\n    }\n  }, [activeDescendantRef]);\n  useFocusZone({\n    containerRef: listContainerRef,\n    focusOutBehavior: 'wrap',\n    focusableElementFilter: element => {\n      return !(element instanceof HTMLInputElement);\n    },\n    activeDescendantFocus: inputRef,\n    onActiveDescendantChanged: (current, previous, directlyActivated) => {\n      activeDescendantRef.current = current;\n      if (current && scrollContainerRef.current && directlyActivated) {\n        scrollIntoView(current, scrollContainerRef.current, menuScrollMargins);\n      }\n    }\n  }, [\n  // List ref isn't set while loading.  Need to re-bind focus zone when it changes\n  loading]);\n  useEffect(() => {\n    // if items changed, we want to instantly move active descendant into view\n    if (activeDescendantRef.current && scrollContainerRef.current) {\n      scrollIntoView(activeDescendantRef.current, scrollContainerRef.current, {\n        ...menuScrollMargins,\n        behavior: 'auto'\n      });\n    }\n  }, [items]);\n  useScrollFlash(scrollContainerRef);\n  return /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    sx: sx\n  }, /*#__PURE__*/React.createElement(StyledHeader, null, /*#__PURE__*/React.createElement(TextInput, _extends({\n    ref: inputRef,\n    block: true,\n    width: \"auto\",\n    color: \"fg.default\",\n    value: filterValue,\n    onChange: onInputChange,\n    onKeyPress: onInputKeyPress,\n    placeholder: placeholderText,\n    \"aria-label\": placeholderText,\n    \"aria-controls\": listId\n  }, textInputProps))), /*#__PURE__*/React.createElement(Box, {\n    ref: scrollContainerRef,\n    overflow: \"auto\"\n  }, loading ? /*#__PURE__*/React.createElement(Box, {\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    pt: 6,\n    pb: 7\n  }, /*#__PURE__*/React.createElement(Spinner, null)) : /*#__PURE__*/React.createElement(ActionList, _extends({\n    ref: listContainerRef,\n    items: items\n  }, listProps, {\n    role: \"listbox\",\n    id: listId\n  }))));\n}\nFilteredActionList.displayName = \"FilteredActionList\";\nFilteredActionList.displayName = 'FilteredActionList';\nexport { FilteredActionList };","map":{"version":3,"names":["React","useCallback","useRef","useEffect","useSSRSafeId","TextInput","Box","ActionList","Spinner","useFocusZone","useProvidedStateOrCreate","styled","get","useProvidedRefOrCreate","useScrollFlash","scrollIntoView","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","menuScrollMargins","startMargin","endMargin","StyledHeader","div","withConfig","displayName","componentId","FilteredActionList","loading","placeholderText","filterValue","externalFilterValue","onFilterChange","items","textInputProps","inputRef","providedInputRef","sx","listProps","setInternalFilterValue","undefined","onInputChange","e","value","scrollContainerRef","listContainerRef","activeDescendantRef","listId","onInputKeyPress","event","current","preventDefault","nativeEvent","stopImmediatePropagation","activeDescendantEvent","KeyboardEvent","type","dispatchEvent","containerRef","focusOutBehavior","focusableElementFilter","element","HTMLInputElement","activeDescendantFocus","onActiveDescendantChanged","previous","directlyActivated","behavior","createElement","display","flexDirection","overflow","ref","block","width","color","onChange","onKeyPress","placeholder","justifyContent","pt","pb","role","id"],"sources":["/Users/mohammedalzafarani/Desktop/personalwebsite/node_modules/@primer/react/lib-esm/FilteredActionList/FilteredActionList.js"],"sourcesContent":["import React, { useCallback, useRef, useEffect } from 'react';\nimport { useSSRSafeId } from '@react-aria/ssr';\nimport TextInput from '../TextInput.js';\nimport Box from '../Box.js';\nimport { ActionList } from '../deprecated/ActionList/index.js';\nimport Spinner from '../Spinner.js';\nimport { useFocusZone } from '../hooks/useFocusZone.js';\nimport { useProvidedStateOrCreate } from '../hooks/useProvidedStateOrCreate.js';\nimport styled from 'styled-components';\nimport { get } from '../constants.js';\nimport { useProvidedRefOrCreate } from '../hooks/useProvidedRefOrCreate.js';\nimport useScrollFlash from '../hooks/useScrollFlash.js';\nimport { scrollIntoView } from '@primer/behaviors';\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nconst menuScrollMargins = {\n  startMargin: 0,\n  endMargin: 8\n};\nconst StyledHeader = styled.div.withConfig({\n  displayName: \"FilteredActionList__StyledHeader\",\n  componentId: \"sc-1oqgb0s-0\"\n})([\"box-shadow:0 1px 0 \", \";z-index:1;\"], get('colors.border.default'));\nfunction FilteredActionList({\n  loading = false,\n  placeholderText,\n  filterValue: externalFilterValue,\n  onFilterChange,\n  items,\n  textInputProps,\n  inputRef: providedInputRef,\n  sx,\n  ...listProps\n}) {\n  const [filterValue, setInternalFilterValue] = useProvidedStateOrCreate(externalFilterValue, undefined, '');\n  const onInputChange = useCallback(e => {\n    const value = e.target.value;\n    onFilterChange(value, e);\n    setInternalFilterValue(value);\n  }, [onFilterChange, setInternalFilterValue]);\n  const scrollContainerRef = useRef(null);\n  const listContainerRef = useRef(null);\n  const inputRef = useProvidedRefOrCreate(providedInputRef);\n  const activeDescendantRef = useRef();\n  const listId = useSSRSafeId();\n  const onInputKeyPress = useCallback(event => {\n    if (event.key === 'Enter' && activeDescendantRef.current) {\n      event.preventDefault();\n      event.nativeEvent.stopImmediatePropagation();\n\n      // Forward Enter key press to active descendant so that item gets activated\n      const activeDescendantEvent = new KeyboardEvent(event.type, event.nativeEvent);\n      activeDescendantRef.current.dispatchEvent(activeDescendantEvent);\n    }\n  }, [activeDescendantRef]);\n  useFocusZone({\n    containerRef: listContainerRef,\n    focusOutBehavior: 'wrap',\n    focusableElementFilter: element => {\n      return !(element instanceof HTMLInputElement);\n    },\n    activeDescendantFocus: inputRef,\n    onActiveDescendantChanged: (current, previous, directlyActivated) => {\n      activeDescendantRef.current = current;\n      if (current && scrollContainerRef.current && directlyActivated) {\n        scrollIntoView(current, scrollContainerRef.current, menuScrollMargins);\n      }\n    }\n  }, [\n  // List ref isn't set while loading.  Need to re-bind focus zone when it changes\n  loading]);\n  useEffect(() => {\n    // if items changed, we want to instantly move active descendant into view\n    if (activeDescendantRef.current && scrollContainerRef.current) {\n      scrollIntoView(activeDescendantRef.current, scrollContainerRef.current, {\n        ...menuScrollMargins,\n        behavior: 'auto'\n      });\n    }\n  }, [items]);\n  useScrollFlash(scrollContainerRef);\n  return /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    sx: sx\n  }, /*#__PURE__*/React.createElement(StyledHeader, null, /*#__PURE__*/React.createElement(TextInput, _extends({\n    ref: inputRef,\n    block: true,\n    width: \"auto\",\n    color: \"fg.default\",\n    value: filterValue,\n    onChange: onInputChange,\n    onKeyPress: onInputKeyPress,\n    placeholder: placeholderText,\n    \"aria-label\": placeholderText,\n    \"aria-controls\": listId\n  }, textInputProps))), /*#__PURE__*/React.createElement(Box, {\n    ref: scrollContainerRef,\n    overflow: \"auto\"\n  }, loading ? /*#__PURE__*/React.createElement(Box, {\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    pt: 6,\n    pb: 7\n  }, /*#__PURE__*/React.createElement(Spinner, null)) : /*#__PURE__*/React.createElement(ActionList, _extends({\n    ref: listContainerRef,\n    items: items\n  }, listProps, {\n    role: \"listbox\",\n    id: listId\n  }))));\n}\nFilteredActionList.displayName = \"FilteredActionList\";\nFilteredActionList.displayName = 'FilteredActionList';\n\nexport { FilteredActionList };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}