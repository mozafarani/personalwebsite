{"ast":null,"code":"import { useCallback, useEffect } from 'react';\nvar noop = function noop() {\n  return null;\n};\nfunction visible(el) {\n  return !el.hidden && (!el.type || el.type !== 'hidden') && (el.offsetWidth > 0 || el.offsetHeight > 0);\n}\nfunction focusable(el) {\n  var inputEl = el;\n  return inputEl.tabIndex >= 0 && !inputEl.disabled && visible(inputEl);\n}\nfunction useDialog(_ref) {\n  var modalRef = _ref.modalRef,\n    overlayRef = _ref.overlayRef,\n    isOpen = _ref.isOpen,\n    _ref$onDismiss = _ref.onDismiss,\n    onDismiss = _ref$onDismiss === void 0 ? noop : _ref$onDismiss,\n    initialFocusRef = _ref.initialFocusRef,\n    closeButtonRef = _ref.closeButtonRef;\n  var onClickOutside = useCallback(function (e) {\n    if (modalRef.current && overlayRef.current && !modalRef.current.contains(e.target) && overlayRef.current.contains(e.target)) {\n      onDismiss();\n    }\n  }, [onDismiss, modalRef, overlayRef]);\n  useEffect(function () {\n    if (isOpen) {\n      document.addEventListener('click', onClickOutside);\n      return function () {\n        document.removeEventListener('click', onClickOutside);\n      };\n    }\n  }, [isOpen, onClickOutside]);\n  useEffect(function () {\n    if (isOpen) {\n      if (initialFocusRef && initialFocusRef.current) {\n        initialFocusRef.current.focus();\n      } else if (closeButtonRef && closeButtonRef.current) {\n        closeButtonRef.current.focus();\n      }\n    }\n  }, [isOpen, initialFocusRef, closeButtonRef]);\n  var getFocusableItem = useCallback(function (e, movement) {\n    if (modalRef.current) {\n      var items = Array.from(modalRef.current.querySelectorAll('*')).filter(focusable);\n      if (items.length === 0) return;\n      e.preventDefault();\n      var focusedElement = document.activeElement;\n      if (!focusedElement) {\n        return;\n      }\n      var index = items.indexOf(focusedElement);\n      var offsetIndex = index + movement;\n      var fallbackIndex = movement === 1 ? 0 : items.length - 1;\n      var focusableItem = items[offsetIndex] || items[fallbackIndex];\n      return focusableItem;\n    }\n  }, [modalRef]);\n  var handleTab = useCallback(function (e) {\n    var movement = e.shiftKey ? -1 : 1;\n    var focusableItem = getFocusableItem(e, movement);\n    if (!focusableItem) {\n      return;\n    }\n    focusableItem.focus();\n  }, [getFocusableItem]);\n  var onKeyDown = useCallback(function (event) {\n    switch (event.key) {\n      case 'Tab':\n        handleTab(event);\n        break;\n      case 'Escape':\n        onDismiss();\n        event.stopPropagation();\n        break;\n    }\n  }, [handleTab, onDismiss]);\n  var getDialogProps = function getDialogProps() {\n    return {\n      onKeyDown: onKeyDown\n    };\n  };\n  return {\n    getDialogProps: getDialogProps\n  };\n}\nexport { useDialog as default };","map":{"version":3,"names":["useCallback","useEffect","noop","visible","el","hidden","type","offsetWidth","offsetHeight","focusable","inputEl","tabIndex","disabled","useDialog","modalRef","overlayRef","isOpen","onDismiss","initialFocusRef","closeButtonRef","onClickOutside","e","current","contains","target","document","addEventListener","removeEventListener","focus","getFocusableItem","movement","items","Array","from","querySelectorAll","filter","length","preventDefault","focusedElement","activeElement","index","indexOf","offsetIndex","fallbackIndex","focusableItem","handleTab","shiftKey","onKeyDown","event","key","stopPropagation","getDialogProps","default"],"sources":["/Users/mohammedalzafarani/Desktop/personalwebsite/node_modules/@primer/react/lib-esm/hooks/useDialog.js"],"sourcesContent":["import { useCallback, useEffect } from 'react';\n\nconst noop = () => null;\nfunction visible(el) {\n  return !el.hidden && (!el.type || el.type !== 'hidden') && (el.offsetWidth > 0 || el.offsetHeight > 0);\n}\nfunction focusable(el) {\n  const inputEl = el;\n  return inputEl.tabIndex >= 0 && !inputEl.disabled && visible(inputEl);\n}\nfunction useDialog({\n  modalRef,\n  overlayRef,\n  isOpen,\n  onDismiss = noop,\n  initialFocusRef,\n  closeButtonRef\n}) {\n  const onClickOutside = useCallback(e => {\n    if (modalRef.current && overlayRef.current && !modalRef.current.contains(e.target) && overlayRef.current.contains(e.target)) {\n      onDismiss();\n    }\n  }, [onDismiss, modalRef, overlayRef]);\n  useEffect(() => {\n    if (isOpen) {\n      document.addEventListener('click', onClickOutside);\n      return () => {\n        document.removeEventListener('click', onClickOutside);\n      };\n    }\n  }, [isOpen, onClickOutside]);\n  useEffect(() => {\n    if (isOpen) {\n      if (initialFocusRef && initialFocusRef.current) {\n        initialFocusRef.current.focus();\n      } else if (closeButtonRef && closeButtonRef.current) {\n        closeButtonRef.current.focus();\n      }\n    }\n  }, [isOpen, initialFocusRef, closeButtonRef]);\n  const getFocusableItem = useCallback((e, movement) => {\n    if (modalRef.current) {\n      const items = Array.from(modalRef.current.querySelectorAll('*')).filter(focusable);\n      if (items.length === 0) return;\n      e.preventDefault();\n      const focusedElement = document.activeElement;\n      if (!focusedElement) {\n        return;\n      }\n      const index = items.indexOf(focusedElement);\n      const offsetIndex = index + movement;\n      const fallbackIndex = movement === 1 ? 0 : items.length - 1;\n      const focusableItem = items[offsetIndex] || items[fallbackIndex];\n      return focusableItem;\n    }\n  }, [modalRef]);\n  const handleTab = useCallback(e => {\n    const movement = e.shiftKey ? -1 : 1;\n    const focusableItem = getFocusableItem(e, movement);\n    if (!focusableItem) {\n      return;\n    }\n    focusableItem.focus();\n  }, [getFocusableItem]);\n  const onKeyDown = useCallback(event => {\n    switch (event.key) {\n      case 'Tab':\n        handleTab(event);\n        break;\n      case 'Escape':\n        onDismiss();\n        event.stopPropagation();\n        break;\n    }\n  }, [handleTab, onDismiss]);\n  const getDialogProps = () => {\n    return {\n      onKeyDown\n    };\n  };\n  return {\n    getDialogProps\n  };\n}\n\nexport { useDialog as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}